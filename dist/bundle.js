var g=Object.create;var f=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var O=t=>f(t,"__esModule",{value:!0});var j=(t,e,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of S(e))!F.call(t,s)&&s!=="default"&&f(t,s,{get:()=>e[s],enumerable:!(a=N(e,s))||a.enumerable});return t},p=t=>j(O(f(t!=null?g(D(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var d=p(require("cac"));var n=p(require("fs")),i=p(require("path")),u=p(require("inquirer"));async function x(t,e){let a=JSON.parse(JSON.stringify(t));return await(0,u.prompt)(e).then(s=>{s.fileName&&(a.fileName=s.fileName.replace(" ","")),a.template=s.template}),a}function P(t){return n.readdirSync(t).filter(e=>{let a=i.join(t,e);return n.statSync(a).isDirectory()})}function C(t,e,a){return n.readdirSync(t).filter(o=>{let r=i.join(t,o);return n.statSync(r).isFile()}).reduce((o,r)=>{let l=i.join(t,r),m=i.extname(l),y=n.readFileSync(l,"utf-8");return o.push({path:i.join(e,a+m),data:y.replace(/\$FILE_NAME/g,a)}),o},[])}function q(t){t.forEach(e=>{n.writeFileSync(e.path,e.data,"utf-8")})}var h=async(t,e)=>{e={...e,outputDir:"./",fileName:t};let a=i.join(process.cwd(),e.templatesDir),s=P(a),o=[e.fileName===void 0&&{type:"input",message:"What's file name",name:"fileName",default:"index"},{type:"list",name:"template",message:"Choose A Template.",choices:s}].filter(Boolean),r=await x(e,o),l=i.join(a,r.template),m=C(l,r.outputDir,r.fileName);q(m)};var c=(0,d.default)();c.command("[name]","Create file for template").option("-t, --templates-dir <path>","Selected templates dir",{default:"./templates"}).action(async(t,e)=>{await h(t,e)});c.help();c.version("0.0.1");c.parse();
